{% set version = "5.15.2" %}
{% set webengine_version = "5.15.9" %}

package:
  name: qt
  version: {{ version }}

build:
  number: 5
  skip: True  # [ppc64le or s390x]
  run_exports:
    - {{ pin_subpackage('qt', max_pin='x.x') }}

requirements:
  run:
    - qt-main 5.15
    - qt-webengine 5.15

test:
  commands:
    - if not exist %LIBRARY_BIN%\\Qt5WebEngine.dll exit 1                  # [win]
    - test -f $PREFIX/lib/libQt5WebEngine${SHLIB_EXT}                      # [unix]
    - test -f $PREFIX/plugins/sqldrivers/libqsqlite${SHLIB_EXT}            # [unix]
    - if not exist %LIBRARY_PREFIX%\plugins\sqldrivers\qsqlite.dll exit 1  # [win]

about:
  home: http://qt.io
  license: LGPL-3.0-only
  license_file: LICENSE.LGPLv3
  summary: 'Qt is a cross-platform application and UI framework.'
  description: |
    Qt helps you create connected devices, UIs & applications that run
    anywhere on any device, on any operating system at any time.
  doc_url: http://doc.qt.io/
  dev_url: https://github.com/qt

extra:
  recipe-maintainers:
    - andfoy
    - ccordoba12
    - duncanmmacleod
    - gillins
    - katietz
    - mingwandroid
    - msarahan
    - ocefpaf
    - stuarteberg
    - Tobias-Fischer
