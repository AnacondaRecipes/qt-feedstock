From 3f448d58924ca246bc06cf0e328ab35ebc15724d Mon Sep 17 00:00:00 2001
From: Ray Donnelly <mingw.android@gmail.com>
Date: Sat, 11 Jul 2020 21:01:47 +0200
Subject: [PATCH 05/13] qtwebenginec: Use conda_prefix for chromium/gpu

---
 chromium/gpu/command_buffer/common/BUILD.gn | 1 +
 chromium/gpu/ipc/client/BUILD.gn            | 2 ++
 chromium/gpu/ipc/service/BUILD.gn           | 2 ++
 3 files changed, 5 insertions(+)

diff --git a/qtwebengine/src/3rdparty/chromium/gpu/command_buffer/common/BUILD.gn b/qtwebengine/src/3rdparty/chromium/gpu/command_buffer/common/BUILD.gn
index 898861835f6..03a10d1c6b1 100644
--- a/qtwebengine/src/3rdparty/chromium/gpu/command_buffer/common/BUILD.gn
+++ b/qtwebengine/src/3rdparty/chromium/gpu/command_buffer/common/BUILD.gn
@@ -144,6 +144,7 @@ source_set("gles2_sources") {
   public_deps = [
     ":common",
   ]
+  include_dirs = [ conda_prefix+"/include" ]
 }
 
 source_set("raster_sources") {
diff --git a/qtwebengine/src/3rdparty/chromium/gpu/ipc/client/BUILD.gn b/qtwebengine/src/3rdparty/chromium/gpu/ipc/client/BUILD.gn
index ad92416bfd4..2104815cce0 100644
--- a/qtwebengine/src/3rdparty/chromium/gpu/ipc/client/BUILD.gn
+++ b/qtwebengine/src/3rdparty/chromium/gpu/ipc/client/BUILD.gn
@@ -46,4 +46,6 @@ source_set("ipc_client_sources") {
   public_deps = [
     "//ipc",
   ]
+  # For xcb/xcb.h
+  include_dirs = [ conda_prefix+"/include" ]
 }
diff --git a/qtwebengine/src/3rdparty/chromium/gpu/ipc/service/BUILD.gn b/qtwebengine/src/3rdparty/chromium/gpu/ipc/service/BUILD.gn
index d02454c2ed6..283ca194011 100644
--- a/qtwebengine/src/3rdparty/chromium/gpu/ipc/service/BUILD.gn
+++ b/qtwebengine/src/3rdparty/chromium/gpu/ipc/service/BUILD.gn
@@ -143,6 +143,8 @@ jumbo_component("service") {
   if (enable_vulkan) {
     deps += [ "//gpu/vulkan/init" ]
   }
+  # For xcb/xcb.h (does nothing?)
+  include_dirs = [ conda_prefix+"/include" ]
 }
 
 source_set("test_support") {
-- 
2.24.3 (Apple Git-128)

